---
title: リアクティブプログラミング設計
version: 0.1.0
status: draft
updated: 2025-06-06
tags:
    - Plan
    - Document
    - Core
    - Reactive
linked_docs:
    - "[[11_1_plan|プロジェクト計画書]]"
    - "[[11_2_design_pillar|デザインピラー]]"
    - "[[11_3_mvp|MVP]]"
    - "[[11_4_kpi|KPI]]"
    - "[[00_index|計画ドキュメント]]"
---

# リアクティブプログラミング設計

## 1. 概要

Reactive Programming は、データストリームと変化の伝搬を扱う宣言型プログラミングパラダイムです。静的・動的なデータストリームを容易に表現し、依存関係の変化を自動で伝播できる仕組みを提供します【18dce0†L8-L17】【843f35†L7-L23】。

本ドキュメントでは、既存のプログラムをリアクティブモデルに再設計するための計画をまとめます。

## 2. 目的

- UI 更新やゲームロジックの状態遷移をデータフローとして管理し、保守性と拡張性を高める。
- イベント駆動型の設計を採用し、変更箇所を局所化することでテスト容易性を向上させる。

## 3. 設計方針

1. **データフロー中心の設計**
    - ゲーム内の状態（入力、スコア、プレイヤー情報など）を Observable として定義。
    - 変更が発生した際、依存するコンポーネントに自動で伝達する仕組みを導入。
2. **UI とモデルの自動同期**
    - MVC パターンを活用し、モデルの変化をビューへ即座に反映させる仕組みを構築する。
3. **リアクティブライブラリの検討**
    - C# 用の `UniRx` などを利用し、Godot C# プロジェクトへの適用可能性を調査。
4. **段階的移行**
    - 既存コードを一度に置き換えるのではなく、主要システムから順次リアクティブ実装へ置き換える。

## 4. 実施ステップ

1. **情報収集フェーズ**
    - リアクティブプログラミングの実装例とベストプラクティスを調査。
    - 必要に応じてサンプルプロジェクトを作成し、Godot との親和性を検証。
2. **アーキテクチャ設計**
    - コアループ【11_5_core_loop】や KPI【11_4_kpi】で定義した要件を満たす形で、リアクティブなデータフローを設計。
3. **プロトタイプ実装**
    - メインシーンや UI 部分からリアクティブ化を行い、MVP【11_3_mvp】に沿った機能を実装。
4. **評価と改善**
    - KPI を指標にパフォーマンスと可読性を評価し、問題点をフィードバック。
5. **全面的な適用**
    - 成果が確認できたら他のシステムへ展開し、設計を確定する。

## 5. 今後の課題

- ライブラリの依存関係やビルド手順の整理。
- 非同期処理との併用による複雑化を抑えるためのルール策定。

## 6. 変更履歴

| バージョン | 更新日     | 変更内容 |
| ---------- | ---------- | -------- |
| 0.1.0      | 2025-06-06 | 初版作成 |

