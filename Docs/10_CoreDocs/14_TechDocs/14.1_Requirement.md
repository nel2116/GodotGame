---
title: Requirement
version: 0.3
status: draft
updated: 2025-05-29
tags:
    - Document
linked_docs:
    - 11.1_Plan
    - 11.3_MVP
    - 11.9_CoreExperienceSpec
---

# 1. 背景・目的

-   **開発形態**：個人開発（Godot 4.2 LTS）
-   **ゲームジャンル**：HD 2D ローグライクアクション
-   **目的**：最小限の実装（MVP）で「瞬発的アクション」と「ビルド多様性」の面白さを検証し、Steam 体験版公開可否を判断する。

# 2. ステークホルダー & 役割

| 区分        | 氏名 / ハンドル | 役割           | 決裁権限       |
| --------- | --------- | ------------ | ---------- |
| 開発者       | 田中ミノル     | 企画・設計・実装・QA  | すべて        |
| 外部プレイテスター |           | 週次プレイフィードバック | バランス調整への助言 |
| メンター      |           | 技術レビュー       | 技術的方針の助言   |

> **要求変更** は開発者が Issue を起票し、メンター承認で確定。

# 3. 目標・KPI

| 区分           | 目標                            | 数値 / KPI                                                       | 測定方法                  |
| -------------- | ------------------------------- | ---------------------------------------------------------------- | ------------------------- |
| 体験品質       | 瞬発的アクション & ビルド多様性 | **入力 → ヒット ≤100 ms**、3 ラン以内に主要ビルド **≥2 種** 体験 | Autotest.gd、リプレイ解析 |
| MVP 完成       | 4–6  週で面白さの核を検証       | MVP 機能完了 & **プレイ動画 ≤5  分**                             | 手動計測                  |
| 技術指標       | パフォーマンス                  | **60 fps** 固定、死亡 → 再挑戦 **≤10  秒**                       | Godot プロファイラ        |
| テスター満足度 | 楽しさ 5 段階評価               | **平均 ≥3.5**                                                    | アンケート                |

# 4. ターゲットユーザ

-   **嗜好**：ローグライク・メトロイドヴァニア好きのコアゲーマー
-   **年齢層**：18–35 歳
-   **想定プレイ**：1 周 15–20  分 × 周回無限

# 5. スコープ

| 区分             | **v0.1 (MVP)**       | **将来バージョン**          |
| ---------------- | -------------------- | --------------------------- |
| コンテンツ       | 3 部屋 + 1 ボス      | 8  ステージ、ワールドマップ |
| ビルド           | 近接 / 遠距離 2 系統 | 6 系統 + シナジー           |
| アート           | プレースホルダ       | ドット + Procedural VFX     |
| オーディオ       | BGM 1 曲             | OST & FMOD 連携             |
| プラットフォーム | Windows              | macOS / Linux / Steam Deck  |

# 6. 機能要件（FR）

| ID        | Priority | 機能                      | 説明                                |
| --------- | -------- | ------------------------- | ----------------------------------- |
| **FR‑01** | A        | プレイヤー基本アクション  | 移動・ジャンプ・回避・通常攻撃      |
| **FR‑02** | A        | 敵 AI 基礎                | 追跡・攻撃・被ダメ反応              |
| **FR‑03** | A        | アイテム取得 & ビルド変化 | ドロップ → ビルドスロットへ自動装備 |
| **FR‑04** | B        | ボス戦                    | フェーズ遷移・テレグラフ攻撃        |
| **FR‑05** | B        | チュートリアル部屋        | 基本操作を学習できる                |
| **FR‑06** | C        | コントローラ設定 UI       | キーマップ変更                      |
| **FR‑07** | C        | 実績システム              | SteamAPI 連携                       |

# 7. 非機能要件（NFR）

| 項目                 | 最小         | 推奨               | メモ                 |
| -------------------- | ------------ | ------------------ | -------------------- |
| **FPS**              | 45 fps       | 60 fps             | 動的解像度で調整     |
| **ロード時間**       | ≤10  秒      | ≤5  秒             | 初期部屋表示まで     |
| **GPU**              | GTX 970      | GTX 1080           | VRAM 4 GB 以上       |
| **メモリ**           | 8 GB         | 16 GB              | -                    |
| **ローカライズ**     | UI 外部化    | 英語 / 日本語完備  | UTF‑8                |
| **アクセシビリティ** | リマップ可能 | 色覚補正プリセット | -                    |
| **アート統一率**     | -            | ≥90 %              | プレースホルダ除外時 |

# 8. 受け入れ基準 (Acceptance Criteria)

| FR-ID | Done 条件 (MVP)                                                           | 検証手順                 |
| ----- | ------------------------------------------------------------------------- | ------------------------ |
| FR‑01 | キーボード & ゲームパッドで全基本アクションが反応し、ダメージを与えられる | チュートリアル部屋クリア |
| FR‑02 | 3 種の敵がナビメッシュ上で追跡 & 攻撃し、HP0 で消滅                       | テストシーン             |
| FR‑03 | アイテム取得でビルド UI が更新され、DPS が変化                            | CSV ログ比較             |
| …     | …                                                                         | …                        |

# 9. リスク管理

| リスク             | 影響                 | 対策                                   | 優先度 |
| ------------------ | -------------------- | -------------------------------------- | ------ |
| Godot 4.x 安定性   | フリーズ・クラッシュ | LTS ブランチ固定、週次アップデート検証 | 高     |
| モチベ低下         | 進捗遅延             | 週報公開、タスク細分化                 | 中     |
| プラグイン依存     | ビルド不能           | OSS or 自作置換案を準備                | 中     |
| スペック最適化失敗 | FPS 低下             | 動的解像度、プロファイラチューニング   | 低     |

# 10. 自動テスト仕様

-   **GUT**：ユニットテスト 30  件以上
-   **Autotest.gd**：KPI (fps, hit_delay, room_time) を `user://autotest_metrics.csv` に追記
-   **CI**：GitHub Actions – Windows バイナリ生成 → CSV アーティファクト → グラフ更新

| 項目         | 内容                                                                              |
| ------------ | --------------------------------------------------------------------------------- |
| メトリクス   | 1. FPS（平均 & 最低）<br>2. 入力 → ヒット遅延 (ms)<br>3. 1 ルームクリア時間 (秒)  |
| テスト粒度   | **インテグレーションテスト**：ボット操作で 1 ルームをクリア                       |
| 実行トリガー | 1. 手動（デバッグビルド実行時）<br>2. GitHub Actions：`main` ブランチにプッシュ時 |

### Autotest.gd 雛形

```gdscript
extends Node
func _ready():
    var start = Time.get_ticks_msec()
    Bot.play_one_room()
    var room_time = (Time.get_ticks_msec() - start) / 1000.0
    var fps_avg = Performance.get_monitor(Performance.TIME_FPS)
    var hit_delay = Bot.last_hit_delay_ms
    var f = FileAccess.open("user://autotest_metrics.csv", FileAccess.WRITE_APPEND)
    f.store_line("%s,%f,%f,%f" % [Time.get_datetime_string_from_system(), fps_avg, hit_delay, room_time])
    f.close()
    get_tree().quit()
```

# 11. トレーサビリティマトリクス

| FR-ID | デザインピラー   | KPI           | テストケース |
| ----- | ---------------- | ------------- | ------------ |
| FR‑01 | Pillar‑1: 瞬発   | 入力 → ヒット | TC‑01‑a      |
| FR‑02 | Pillar‑1         | FPS           | TC‑02‑b      |
| FR‑03 | Pillar‑2: 多様性 | ビルド数      | TC‑03‑c      |
| …     | …                | …             | …            |

# 12. スケジュール（暫定）

| フェーズ          | 期間   | 成果物                    |
| ----------------- | ------ | ------------------------- |
| ① 企画 & 要件     | 1  週  | 本書 v0.3                 |
| ② 実装            | +4  週 | MVP プレイ動画            |
| ③ テスト & 最適化 | +1  週 | Autotest レポート         |
| ④ レビュー        | +1  週 | レポート & フィードバック |

# 13. 成果物

1. プレイ動画 (≤5  分)
2. KPI & バグレポート
3. GitHub  リポジトリ `v0.1` タグ付きビルド
4. デザイン振り返りドキュメント

---

## Appendix A – 用語集

| 用語        | 説明                                 |
| ----------- | ------------------------------------ |
| **Poise**   | ひるみ耐性値。ダメージ蓄積でブレイク |
| **Stagger** | ひるみ状態。Poise ブレイクで発生     |

## Appendix B – 変更管理フロー

1. Issue テンプレートで変更要求を起票
2. メンターがレビューし **Label:approved** 付与
3. `develop` ブランチで実装 → PR → main へマージ
4. バージョンタグ & CHANGELOG 追記

---

_更新履歴_

-   **v0.3** (2025‑05‑29) — ステークホルダー、リスク、受け入れ基準などを追加し全面改訂。
-   **v0.2** (2025‑05‑29) — 自動テスト仕様と最小システム要件を確定。
