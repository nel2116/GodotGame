---
title: ドキュメント管理ルール
version: 0.1
status: draft
updated: 2024-03-21
tags:
    - Documentation
    - Rules
    - Management
    - Reference
---

# ドキュメント管理ルール

## 1. ドキュメントの基本構造

### 1.1 メタデータ

各ドキュメントは以下のメタデータを含める必要があります：

```yaml
---
title: ドキュメントのタイトル
version: 0.1
status: draft|review|approved
updated: YYYY-MM-DD # 現在の日付を自動取得
tags:
    - 関連タグ1
    - 関連タグ2
linked_docs:
    - "[[関連ドキュメント1]]"
    - "[[関連ドキュメント2]]"
---
```

### 1.2 日付データの管理

#### 1.2.1 日付の取得方法

AI エージェントは以下のいずれかの方法で現在の日付を取得する必要があります：

1. システムコマンドの実行

```bash
# Windows
date /t

# Linux/Mac
date +%Y-%m-%d
```

2. プログラミング言語の日付関数

```gdscript
# GDScript
var current_date = Time.get_date_dict_from_system()
var formatted_date = "%04d-%02d-%02d" % [
    current_date.year,
    current_date.month,
    current_date.day
]
```

#### 1.2.2 日付フォーマットの規則

-   形式: YYYY-MM-DD
-   例: 2024-03-21
-   タイムゾーン: UTC
-   24 時間表記

#### 1.2.3 日付更新のタイミング

1. ドキュメントの初回作成時
2. ドキュメントの内容が変更された時
3. レビュー後の承認時
4. バージョンアップ時

### 1.3 目次

各ドキュメントは以下の基本目次構造を含める必要があります：

```markdown
# 目次

1. [概要](#概要)
2. [詳細](#詳細)
3. [使用方法](#使用方法)
4. [制限事項](#制限事項)
5. [変更履歴](#変更履歴)
```

## 2. バージョン管理

### 2.1 バージョン番号の規則

-   メジャーバージョン（破壊的変更）: X.0.0
-   マイナーバージョン（機能追加）: 0.X.0
-   パッチバージョン（バグ修正）: 0.0.X

### 2.2 変更履歴の形式

```markdown
| バージョン | 更新日     | 変更内容                              |
| ---------- | ---------- | ------------------------------------- |
| 0.2.0      | 2024-03-21 | 機能 A の追加<br>- 詳細 1<br>- 詳細 2 |
| 0.1.0      | 2024-03-20 | 初版作成                              |
```

#### 2.2.1 変更履歴の日付管理

-   各エントリの日付は、その変更が行われた実際の日付を反映する必要があります
-   日付の取得は[1.2.1 日付の取得方法](#121-日付の取得方法)に従ってください
-   複数の変更をまとめて記録する場合は、最新の変更日を記載します

## 3. ドキュメントの更新ルール

### 3.1 更新が必要な場合

1. コードの変更がドキュメントに影響する場合
2. 仕様の変更があった場合
3. バグ修正や機能追加があった場合
4. レビューで指摘があった場合

### 3.2 更新手順

1. 関連するドキュメントを特定
2. 変更内容を明確に記録
3. バージョン番号を更新
4. 変更履歴に詳細を追加
5. 関連ドキュメントのリンクを更新

## 4. AI エージェント向けの特別ルール

### 4.1 日付管理の注意点

1. 日付の取得方法

    - Windows 環境: `Get-Date -Format "yyyy-MM-dd"`
    - Linux/Mac 環境: `date +%Y-%m-%d`
    - 日付取得コマンドが失敗した場合は、エラーメッセージを確認し、適切な代替コマンドを使用

2. 日付の検証

    - 取得した日付が未来の日付でないことを確認
    - タイムゾーンの違いによる誤差に注意
    - 日付フォーマットが正しいことを確認（YYYY-MM-DD）

3. 日付更新のタイミング

    - ドキュメントの初回作成時
    - メタデータの更新時
    - 変更履歴の追加時
    - レビュー後の承認時

4. システム日付の確認と使用

    - ドキュメント更新作業開始時に必ず`Get-Date -Format "yyyy-MM-dd"`を実行
    - 取得した日付をそのまま使用し、手動で日付を変更しない
    - システム日付が正しく設定されていることを前提とする
    - システム日付に問題がある場合は、システム管理者に報告

5. 日付の一貫性
    - 同一セッション内の更新では、最初に取得した日付を一貫して使用
    - 複数のドキュメントを更新する場合は、同じ日付を使用
    - 変更履歴の日付は、メタデータの日付と一致させる

### 4.2 バージョン管理の注意点

1. バージョン番号の更新ルール

    - パッチバージョン（0.0.X）: 日付の修正、タイプミスの修正など
    - マイナーバージョン（0.X.0）: 新機能の追加、既存機能の拡張
    - メジャーバージョン（X.0.0）: 破壊的変更、大きな仕様変更

2. バージョン更新のタイミング

    - ドキュメントの内容が変更された時
    - メタデータが更新された時
    - レビュー後の承認時

3. 変更履歴の記録
    - 変更内容を具体的に記述
    - 複数の変更がある場合は箇条書きで記載
    - 変更の理由や影響範囲を明記

### 4.3 コードブロックの形式

```gdscript
# 言語を明示的に指定
func example_function() -> void:
    # インデントは4スペース
    var example_var = "example"
```

### 4.4 リンクの形式

-   内部リンク: `[[ドキュメント名#セクション名|表示テキスト]]`
-   外部リンク: `[表示テキスト](URL)`

### 4.5 セクションの命名規則

-   日本語: 概要、詳細、使用方法など
-   英語: Overview, Details, Usage など
-   一貫性を保つため、同じ概念には同じ用語を使用

### 4.6 エラー処理と検証

1. 日付取得の失敗時

    - 代替コマンドの使用
    - エラーメッセージの記録
    - ユーザーへの通知

2. バージョン管理の検証

    - バージョン番号の形式チェック
    - 変更履歴との整合性確認
    - メタデータの一貫性確認

3. ドキュメント更新時の確認事項
    - メタデータの完全性
    - リンクの有効性
    - フォーマットの一貫性
    - 変更履歴の適切性

## 5. ドキュメントの品質基準

### 5.1 必須項目

-   明確な目的の記述
-   具体的な使用例
-   エラーケースの説明
-   制限事項の明記

### 5.2 推奨項目

-   図表やダイアグラム
-   コードサンプル
-   トラブルシューティングガイド
-   関連リソースへのリンク

## 6. レビュープロセス

### 6.1 レビュー基準

1. 技術的な正確性
2. 明確性と読みやすさ
3. 完全性と網羅性
4. 一貫性と標準への準拠

### 6.2 レビュー手順

1. ドキュメントの準備
2. レビュアーの割り当て
3. レビューの実施
4. フィードバックの反映
5. 最終承認

## 7. ドキュメントの整理

### 7.1 ディレクトリ構造

```
Docs/
├── 10_CoreDocs/        # コアドキュメント
├── 20_UserGuides/      # ユーザーガイド
├── 30_APIReference/    # APIリファレンス
├── 40_Tutorials/       # チュートリアル
└── 99_Reference/       # 参照資料
```

### 7.2 ファイル命名規則

-   プレフィックス: カテゴリ番号（例: 10\_）
-   名前: スネークケース（例: core_system）
-   拡張子: .md

## 8. 変更履歴

| バージョン | 更新日     | 変更内容                                                                                                                                       |
| ---------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| 0.3.0      | 2025-06-01 | 日付管理の注意点を拡充<br>- システム日付の確認と使用方法を追加<br>- 日付の一貫性に関するガイドラインを追加<br>- システム日付の前提条件を明確化 |
| 0.2.0      | 2025-06-01 | AI エージェント向けの特別ルールを拡充<br>- 日付管理の注意点を追加<br>- バージョン管理の注意点を追加<br>- エラー処理と検証のガイドラインを追加  |
| 0.1.0      | 2025-06-01 | 初版作成                                                                                                                                       |
